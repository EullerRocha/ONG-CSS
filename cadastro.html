<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Cadastro e Doações — ONG Ações Solidárias</title>
  <meta name="description" content="Formulário de cadastro de voluntários e doações online.">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="container header-inner">
      <div class="brand">
        <img src="assets/logo.png" alt="Logo ONG">
        <h1>Cadastro & Doações</h1>
      </div>

      <button class="menu-toggle" aria-expanded="false" aria-controls="main-nav">☰</button>

      <nav id="main-nav" aria-label="Menu principal">
        <ul>
          <li><a href="index.html">Início</a></li>
          <li><a href="projetos.html">Projetos</a></li>
          <li><a href="cadastro.html">Cadastro & Doações</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container" id="main">
    <!-- Formulário Voluntário -->
    <section class="section col-12" id="cadastro-voluntario">
      <h2>Inscreva-se como Voluntário</h2>

      <form id="form-voluntario" class="card" action="#" method="post" onsubmit="handleVoluntario(event)">
        <fieldset style="border:none;padding:0;margin:0;">
          <legend class="u-mb-2">Dados Pessoais</legend>

          <label for="nome">Nome completo</label>
          <input type="text" id="nome" name="nome" required autocomplete="name">

          <label for="email" class="u-mb-1">E-mail</label>
          <input type="email" id="email" name="email" required autocomplete="email">

          <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;">
            <div>
              <label for="cpf">CPF</label>
              <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" inputmode="numeric" required>
            </div>
            <div>
              <label for="telefone">Telefone</label>
              <input type="tel" id="telefone" name="telefone" placeholder="(00) 00000-0000" inputmode="tel" required>
            </div>
            <div>
              <label for="data_nascimento">Data de Nascimento</label>
              <input type="date" id="data_nascimento" name="data_nascimento" required>
            </div>
          </div>
        </fieldset>

        <fieldset style="border:none;padding:0;margin-top:12px;">
          <legend class="u-mb-2">Endereço</legend>
          <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;">
            <div style="grid-column:span 1;">
              <label for="cep">CEP</label>
              <input type="text" id="cep" name="cep" placeholder="00000-000" inputmode="numeric" required>
            </div>
            <div style="grid-column:span 3;">
              <label for="endereco">Endereço (rua, número)</label>
              <input type="text" id="endereco" name="endereco" required>
            </div>
            <div>
              <label for="cidade">Cidade</label>
              <input type="text" id="cidade" name="cidade" required>
            </div>
            <div>
              <label for="estado">Estado (UF)</label>
              <input type="text" id="estado" name="estado" maxlength="2" placeholder="SP" required>
            </div>
          </div>
        </fieldset>

        <fieldset style="border:none;padding:0;margin-top:12px;">
          <legend class="u-mb-2">Interesses</legend>
          <label><input type="checkbox" name="areas" value="educacao"> Educação</label><br>
          <label><input type="checkbox" name="areas" value="alimentacao"> Alimentação</label><br>
          <label><input type="checkbox" name="areas" value="saude"> Saúde</label><br>
          <label><input type="checkbox" name="areas" value="admin"> Apoio administrativo</label>

          <label for="experiencia" style="margin-top:8px;display:block;">Experiência (opcional)</label>
          <textarea id="experiencia" name="experiencia" rows="4" placeholder="Descreva sua experiência"></textarea>
        </fieldset>

        <div style="display:flex;gap:12px;margin-top:12px;">
          <button type="submit" class="btn">Enviar Inscrição</button>
          <button type="reset" class="btn btn-outline">Limpar</button>
        </div>
      </form>
    </section>

    <!-- Doações -->
    <section class="section col-12 u-mt-3" id="doacoes" style="margin-top:24px;">
      <h2>Doações</h2>
      <div class="card" style="display:grid;grid-template-columns:1fr 320px;gap:16px;align-items:start;">
        <div>
          <h3>Faça uma doação</h3>
          <p>Escolha um valor e método de pagamento seguro (integração com gateway necessária em produção).</p>

          <form id="form-doacao" onsubmit="handleDoacao(event)">
            <label for="valor">Valor (R$)</label>
            <input type="number" id="valor" name="valor" min="1" step="0.01" required>

            <label for="metodo">Método</label>
            <select id="metodo" name="metodo" required>
              <option value="">Selecione</option>
              <option value="pix">Pix</option>
              <option value="cartao">Cartão</option>
              <option value="boleto">Boleto</option>
            </select>

            <div style="margin-top:12px;">
              <button type="submit" class="btn">Doar Agora</button>
              <button type="button" class="btn btn-outline" onclick="openModal('modalDonate')">Mais info</button>
            </div>
          </form>
        </div>

        <aside style="background:linear-gradient(180deg,#fff,#fafafa);padding:16px;border-radius:8px;border:1px solid var(--border);">
          <h4>Campanhas Atuais</h4>
          <ul>
            <li>Doe Esperança — Cobertores para o Inverno</li>
            <li>Capacitação — Cursos técnicos gratuitos</li>
          </ul>
          <p><small>Transparência: relatórios e comprovantes disponíveis no portal.</small></p>
        </aside>
      </div>
    </section>
  </main>

  <footer style="padding:16px;border-top:1px solid var(--border);background:#fff;">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;">
      <div>&copy; 2025 ONG Ações Solidárias</div>
      <div><small>contato@acoes-solidarias.org.br</small></div>
    </div>
  </footer>

  <!-- Modal de doação (reutilizável) -->
  <div id="modalDonate" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-labelledby="donateTitle">
      <h3 id="donateTitle">Informações sobre meios de pagamento</h3>
      <p>Integrações com gateways (ex.: PagSeguro, MercadoPago, Stripe) devem ser configuradas no backend via HTTPS. O Pix é recomendado para doações rápidas.</p>
      <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:12px;">
        <button class="btn" onclick="closeModal('modalDonate')">Fechar</button>
      </div>
    </div>
  </div>

  <div id="toast-root" aria-live="polite" aria-atomic="true"></div>

  <script>
    /* Menu hamburger */
    document.addEventListener('DOMContentLoaded', function(){
      const toggles = document.querySelectorAll('.menu-toggle');
      const nav = document.querySelector('nav');
      toggles.forEach(btn => btn.addEventListener('click', () => nav.classList.toggle('active')));
    });

    /* Modal helpers */
    function openModal(id){ document.getElementById(id).classList.add('active'); }
    function closeModal(id){ document.getElementById(id).classList.remove('active'); }

    /* Toast helper */
    function showToast(message, time=3000){
      const root = document.getElementById('toast-root');
      const t = document.createElement('div');
      t.className = 'toast';
      t.textContent = message;
      root.appendChild(t);
      setTimeout(()=> t.remove(), time);
    }

    /* Simple masks: CPF, telefone, CEP */
    function maskCPF(v){
      v = v.replace(/\D/g,'');
      v = v.replace(/(\d{3})(\d)/,'$1.$2');
      v = v.replace(/(\d{3})(\d)/,'$1.$2');
      v = v.replace(/(\d{3})(\d{1,2})$/,'$1-$2');
      return v;
    }
    function maskPhone(v){
      v = v.replace(/\D/g,'');
      v = v.replace(/^0/,'');
      if(v.length <= 10){
        v = v.replace(/(\d{2})(\d)/,'($1) $2');
        v = v.replace(/(\d{4})(\d)/,'$1-$2');
      } else {
        v = v.replace(/(\d{2})(\d)/,'($1) $2');
        v = v.replace(/(\d{5})(\d)/,'$1-$2');
      }
      return v;
    }
    function maskCEP(v){
      v = v.replace(/\D/g,'');
      v = v.replace(/(\d{5})(\d)/,'$1-$2');
      return v;
    }

    document.getElementById('cpf')?.addEventListener('input', function(e){ this.value = maskCPF(this.value); });
    document.getElementById('telefone')?.addEventListener('input', function(e){ this.value = maskPhone(this.value); });
    document.getElementById('cep')?.addEventListener('input', function(e){ this.value = maskCEP(this.value); });

    /* Form handlers (simulated) */
    function handleVoluntario(e){
      e.preventDefault();
      // aqui faria POST para backend; por enquanto só feedback
      showToast('Inscrição enviada — obrigado por se voluntariar!');
      e.target.reset();
    }
    function handleDoacao(e){
      e.preventDefault();
      showToast('Dados enviados. Redirecionando para pagamento seguro...');
      // em produção redirecionar para gateway via backend seguro
    }
  </script>
</body>
</html>

